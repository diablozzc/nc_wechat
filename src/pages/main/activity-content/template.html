<div class="article-content-page2 wrapper">

    <div class="sub-wrapper">
        <div class="scroller">

            <article-content the-article="theActivity.theActivity">
                <meta-info>
                    <span class="rich_media_meta rich_media_meta_text rich_media_meta_nickname">{{theActivity.theActivity.hoster}}</span>
                    <em id="post-date" class="rich_media_meta rich_media_meta_text">{{theActivity.theActivity.publishTimeText}}</em>
                </meta-info>
                <extend>
                    <div class="vux-flexbox vux-flex-col" style="background: #f3f3f3;font-size: 12px;">
                        <div class="vux-flexbox-item pt10" style="margin-top: 8px;">

                            <div class="vux-flexbox vux-flex-row vux-flex-align-top">
                                <div class="vux-flexbox-item pl10" style="margin-left: 8px; flex: 0 0 5%; text-align: center;">
                                    <i class="fa fa-clock-o rich_media_meta_text"></i>
                                </div>
                                <div class="vux-flexbox-item" style="margin-left: 8px;">
                                    <span class="flex-demo">{{theActivity.theActivity.startTimeText}} 至 {{theActivity.theActivity.endTimeText}}</span><br>
                                    <span class="rich_media_meta_text">{{theActivity.theActivity.signupEndTimeText}}报名截止</span>
                                </div>
                            </div>

                        </div>
                        <div class="vux-flexbox-item pt10" style="margin-top: 8px; border-top: 1px solid #e9e9e9;">

                            <div class="vux-flexbox vux-flex-row vux-flex-align-top">
                                <div class="vux-flexbox-item pl10" style="margin-left: 8px; flex: 0 0 5%; text-align: center;">
                                    <i class="fa fa-map-marker rich_media_meta_text"></i>
                                </div>
                                <div class="vux-flexbox-item" style="margin-left: 8px;">
                                    <span class="flex-demo">{{theActivity.theActivity.location}}</span>
                                </div>
                            </div>

                        </div>
                        <div class="vux-flexbox-item pt10 pb10" style="margin-top: 8px; border-top: 1px solid #e9e9e9;">

                            <div class="vux-flexbox vux-flex-row vux-flex-align-top">
                                <div class="vux-flexbox-item pl10" style="margin-left: 8px; flex: 0 0 5%; text-align: center;">
                                    <i class="fa fa-users rich_media_meta_text"></i>
                                </div>
                                <div class="vux-flexbox-item" style="margin-left: 8px;">
                                    <span class="flex-demo">已有{{theActivity.signUpNum}}人报名</span><br>
                                    <span class="rich_media_meta_text">限制报名人数为{{theActivity.theActivity.signupTop}}人</span>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div style="margin-top: 15px;"><img ng-src="{{theActivity.theActivity.overUrl}}" style="max-width: 100%"></div>

                </extend>
            </article-content>

            <signup-list list-data="theActivity.listOfSignup" on-load-more="theActivity.loadMoreSignup()" sign-up-number="theActivity.signUpNum">

            </signup-list>

            <comment list-data="theActivity.listOfComment" id="article_comment" on-load-more="theActivity.loadMoreComment()">
                <buttons>
                    <button type="button" class="weui_btn weui_btn_mini weui_btn_default" ng-click="theActivity.showCommentForm()">写评论</button>
                </buttons>
            </comment>

        </div>
    </div>

</div>


<bottom-bar>
    <middle-btn>
        <button class="weui_btn" ng-class="{'weui_btn_primary':!theActivity.isSigned,'weui_btn_default weui_btn_disabled':theActivity.isSigned}"
                ng-click="theActivity.goSignupForm()" ng-disabled="theActivity.isSigned"> {{theActivity.signText()}} </button>
    </middle-btn>

</bottom-bar>

<popup show="theActivity.showPopup" height="140px" on-close-popup="theActivity.onCloseComment()">
    <comment-form on-cancel="theActivity.onCloseComment()"
                  on-submit="theActivity.submitComment($event)"></comment-form>
</popup>